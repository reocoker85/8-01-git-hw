# Домашнее задание к занятию 1. «Типы и структура СУБД» Комиссаров Игорь

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/virt-11/additional).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Решение 1

1. Так как данные в чеках разные ( неоднородные) , то лучше всего использовать документо-ориентированную БД, например, MongoDB. 
2. В таком случае лучше всего использовать графовую БД, которая гораздо быстрее подсчитывет и сравнивет количество связей между узлами.
3. Использум иерархическую модель , так как информация в данной базе организована по принципу древовидной структуры, в виде отношений «предок-потомок». 
4. В данном случае используем БД "ключ-значение" (Redis или Memcached).
5. Здесь изпользуем  реляционную БД.



## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Решение 2

1. AP, PA/EC.
2. CA, PA/EL.
3. CP, PC/EC.
   


## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

## Решение 3

В одной системе сочетаться принципы BASE и ACID не могут. ACID используется там , где  требуется согласованность, надежность, предсказуемость и целостность данных (например , банки). В то время , как базы данных BASE лучше подходят для аналитической обработки слабо структурированных данных в больших объемах.



## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

## Решение 4

key-value-хранилище, которое имеет механизм Pub/Sub - это Redis. 
К минусам можно отнести:
- однопоточность ,
- возможную потерю данных, изменённых или добавленных в хранилище на временных интервалах,
- размер БД ограничен доступной памятью,
- отсутствует очередь сообщений.

